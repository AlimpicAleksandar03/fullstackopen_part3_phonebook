{"version":3,"sources":["services/service.js","components/people.js","components/filter.js","components/form.js","components/notification.js","components/error.js","App.js","index.js"],"names":["baseUrl","axios","get","then","resp","data","person","post","id","console","log","delete","updatedPerson","put","Person","name","number","deleteUser","setPeople","allPeople","onClick","window","confirm","filter","People","people","map","Filter","updateFilter","onChange","PersonForm","updateName","updateNumber","onSubmit","value","type","Notification","message","className","style","color","fontStyle","fontSize","padding","border","borderRadius","margin","textTransform","Error","error","background","borderStyle","marginBottom","App","useState","setFilter","newName","setNewName","newNumber","setNewNumber","setMessage","setError","useEffect","personService","peopleList","length","toLowerCase","includes","event","input","target","e","preventDefault","alert","newPerson","existingPerson","find","concat","setTimeout","catch","err","ReactDOM","render","document","getElementById"],"mappings":"yMACMA,EAAU,eAcD,EAZE,kBAAMC,IAAMC,IAAIF,GAASG,MAAK,SAACC,GAAD,OAAUA,EAAKC,SAY/C,EAXA,SAACC,GAAD,OACXL,IAAMM,KAAKP,EAASM,GAAQH,MAAK,SAACC,GAAD,OAAUA,EAAKC,SAUrC,EATI,SAACG,GAEhB,OADAC,QAAQC,IAAR,UAAeV,EAAf,YAA0BQ,IACnBP,IAAMU,OAAN,UAAgBX,EAAhB,YAA2BQ,IAAML,MAAK,SAACC,GAAD,OAAUA,EAAKC,SAOjD,EALM,SAACO,EAAeJ,GACjC,OAAOP,IACFY,IADE,UACKb,EADL,YACgBQ,GADhB,eAC2BI,IAC7BT,MAAK,SAACC,GAAD,OAAUA,EAAKC,S,OCZvBS,EAAS,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,KAAMC,EAAmD,EAAnDA,OAAQC,EAA2C,EAA3CA,WAAYT,EAA+B,EAA/BA,GAAIU,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,UACvD,OACI,+BACKJ,EADL,WACoBC,EAChB,wBACII,QAAS,WACL,GAAIC,OAAOC,QAAP,iBAAyBP,EAAzB,MACA,OAAOE,EAAWT,GAAIL,MAAK,kBACvBe,EACIC,EAAUI,QAAO,SAACjB,GAAD,OAAYA,EAAOE,KAAOA,UAL/D,wBAkCGgB,EAjBA,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,OAAQR,EAAuC,EAAvCA,WAAYC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,UAC7C,OACI,6BACKM,EAAOC,KAAI,gBAAGX,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAQR,EAAjB,EAAiBA,GAAjB,OACR,cAAC,EAAD,CACIO,KAAMA,EACNC,OAAQA,EAERC,WAAYA,EACZT,GAAIA,EACJU,UAAWA,EACXC,UAAWA,GAJNX,SCrBVmB,EAPA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACd,OACI,6CACY,uBAAOC,SAAUD,QCWtBE,EAdI,SAAC,GAA0D,IAAxDf,EAAuD,EAAvDA,KAAMC,EAAiD,EAAjDA,OAAQe,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SAC1D,OACI,uBAAMA,SAAUA,EAAhB,UACI,2CACU,uBAAOC,MAAOnB,EAAMc,SAAUE,OAExC,6CACY,uBAAOG,MAAOlB,EAAQa,SAAUG,OAE5C,wBAAQG,KAAK,SAAb,qBCWGC,EApBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAWpB,OAAgB,OAAZA,EACO,KAGP,qBAAKC,UAAU,UAAUC,MAdd,CACXC,MAAO,QACPC,UAAW,SACXC,SAAU,GACVC,QAAS,GACTC,OAAQ,kBACRC,aAAc,GACdC,OAAQ,GACRC,cAAe,aAMf,SACKV,KCDEW,EAfD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAUb,OAAc,OAAVA,EACO,KAEJ,qBAAKV,MAZG,CACXC,MAAO,MACPU,WAAY,YACZR,SAAU,GACVS,YAAa,QACbN,aAAc,EACdF,QAAS,GACTS,aAAc,IAKX,SAAqBH,KCuHjBI,EA9HH,WACR,MAA4BC,mBAAS,IAArC,mBAAO7B,EAAP,KAAeP,EAAf,KACA,EAA4BoC,mBAAS,IAArC,mBAAO/B,EAAP,KAAegC,EAAf,KACA,EAA8BD,mBAAS,IAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAA8BL,mBAAS,MAAvC,mBAAOjB,EAAP,KAAgBuB,EAAhB,KACA,EAA0BN,mBAAS,MAAnC,mBAAOL,EAAP,KAAcY,EAAd,KACApD,QAAQC,IAAIuC,GACZa,qBAAU,WACNC,IAAyB5D,MAAK,SAACC,GAAD,OAAUc,EAAUd,QACnD,IACH,IAoFM4D,EACFzC,EAAO0C,OAAS,EACVxC,EAAOF,QAAO,qBAAGR,KACRmD,cAAcC,SAAS5C,EAAO2C,kBAEvCzC,EACJR,EAAa8C,EACnB,OACI,gCACI,2CACA,cAAC,EAAD,CAAOd,MAAOA,IACd,cAAC,EAAD,CAAcZ,QAASA,IACvB,cAAC,EAAD,CAAQT,aAjBK,SAACwC,GAClB,IAAMC,EAAQD,EAAME,OAAOpC,MAC3BqB,EAAUc,MAgBN,cAAC,EAAD,CACItD,KAAMyC,EACNxC,OAAQ0C,EACRzB,SApGM,SAACsC,GAGf,GAFAA,EAAEC,kBAEGhB,GAA8B,IAAnBA,EAAQS,OACpB,OAAOQ,MAAM,wBAEjB,IAAKf,GAAkC,IAArBA,EAAUO,OACxB,OAAOQ,MAAM,0BAGjB,IAAMC,EAAY,CACd3D,KAAMyC,EACNxC,OAAQ0C,GAENiB,EAAiBlD,EAAOmD,MAC1B,SAACtE,GAAD,OAAYA,EAAOS,MAAQ2D,EAAU3D,QAGrC4D,EAEItD,OAAOC,QAAP,UACOqD,EAAe5D,KADtB,oEAIAgD,EACkBW,EAAWC,EAAenE,IACvCL,MAAK,SAACS,GAAD,aACFM,GACI,GAACN,IAAeiE,OAAhB,oBACOpD,EAAOF,QACN,SAACjB,GAAD,OACIA,EAAOS,OAAS4D,EAAe5D,cAKlDZ,MAAK,WACFyD,EAAW,kBACXkB,YAAW,WACPlB,EAAW,QACZ,SAENmB,OAAM,SAACC,GACJnB,EAAS,kBAAD,OACca,EAAU3D,KADxB,0CAGRN,QAAQC,IAAIsE,GACZF,YAAW,WACPjB,EAAS,QACV,SAIfE,EACYW,GACPvE,MAAK,SAACC,GAAD,OAAUc,EAAU,CAACd,GAAF,mBAAWqB,QACnCtB,MAAK,WACFyD,EAAW,GAAD,OAAIc,EAAU3D,KAAd,4BACV+D,YAAW,WACPlB,EAAW,QACZ,SAENmB,OAAM,SAACC,GACJnB,EAAS,6BAAD,OAA8BmB,EAAIjE,OAC1C+D,YAAW,kBAAMjB,EAAS,QAAO,SAG7CJ,EAAW,IACXE,EAAa,KAiCL5B,WA1BO,SAACwC,GAChB,IAAMxD,EAAOwD,EAAED,OAAOpC,MACtBuB,EAAW1C,IAyBHiB,aAhCS,SAACuC,GAClB,IAAMvD,EAASuD,EAAED,OAAOpC,MACxByB,EAAa3C,MAgCT,yCACA,cAAC,EAAD,CACIS,OAAQuC,EACR/C,WAAYA,EACZC,UAAWA,EACXC,UAAWM,QC5H3BwD,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.70512554.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst fetchAll = () => axios.get(baseUrl).then((resp) => resp.data);\nconst create = (person) =>\n    axios.post(baseUrl, person).then((resp) => resp.data);\nconst deleteUser = (id) => {\n    console.log(`${baseUrl}/${id}`);\n    return axios.delete(`${baseUrl}/${id}`).then((resp) => resp.data);\n};\nconst updateNumber = (updatedPerson, id) => {\n    return axios\n        .put(`${baseUrl}/${id}`, { ...updatedPerson })\n        .then((resp) => resp.data);\n};\nexport default {\n    fetchAll,\n    create,\n    deleteUser,\n    updateNumber,\n};\n","import React from \"react\";\nconst Person = ({ name, number, deleteUser, id, setPeople, allPeople }) => {\n    return (\n        <li>\n            {name} &mdash; {number}\n            <button\n                onClick={() => {\n                    if (window.confirm(`Delete ${name}?`)) {\n                        return deleteUser(id).then(() =>\n                            setPeople(\n                                allPeople.filter((person) => person.id !== id)\n                            )\n                        );\n                    }\n                    return;\n                }}\n            >\n                Delete\n            </button>\n        </li>\n    );\n};\nconst People = ({ people, deleteUser, setPeople, allPeople }) => {\n    return (\n        <ul>\n            {people.map(({ name, number, id }) => (\n                <Person\n                    name={name}\n                    number={number}\n                    key={id}\n                    deleteUser={deleteUser}\n                    id={id}\n                    setPeople={setPeople}\n                    allPeople={allPeople}\n                />\n            ))}\n        </ul>\n    );\n};\nexport default People;\n","import React from \"react\";\nconst Filter = ({ updateFilter }) => {\n    return (\n        <label>\n            Filter: <input onChange={updateFilter} />\n        </label>\n    );\n};\nexport default Filter;\n","import React from \"react\";\nconst PersonForm = ({ name, number, updateName, updateNumber, onSubmit }) => {\n    return (\n        <form onSubmit={onSubmit}>\n            <label>\n                Name: <input value={name} onChange={updateName} />\n            </label>\n            <label>\n                Number: <input value={number} onChange={updateNumber} />\n            </label>\n            <button type=\"submit\">Add</button>\n        </form>\n    );\n};\n\nexport default PersonForm;\n","import React from \"react\";\nconst Notification = ({ message }) => {\n    const styles = {\n        color: \"green\",\n        fontStyle: \"italic\",\n        fontSize: 16,\n        padding: 20,\n        border: \"4px solid green\",\n        borderRadius: 10,\n        margin: 10,\n        textTransform: \"uppercase\",\n    };\n    if (message === null) {\n        return null;\n    }\n    return (\n        <div className=\"message\" style={styles}>\n            {message}\n        </div>\n    );\n};\nexport default Notification;\n","import React from \"react\";\nconst Error = ({ error }) => {\n    const styles = {\n        color: \"red\",\n        background: \"lightgrey\",\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    };\n    if (error === null) {\n        return null;\n    }\n    return <div style={styles}>{error}</div>;\n};\nexport default Error;\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/service\";\nimport People from \"./components/people\";\nimport Filter from \"./components/filter\";\nimport PersonForm from \"./components/form\";\nimport Notification from \"./components/notification\";\nimport Error from \"./components/error\";\nconst App = () => {\n    const [people, setPeople] = useState([]);\n    const [filter, setFilter] = useState(\"\");\n    const [newName, setNewName] = useState(\"\");\n    const [newNumber, setNewNumber] = useState(\"\");\n    const [message, setMessage] = useState(null);\n    const [error, setError] = useState(null);\n    console.log(error);\n    useEffect(() => {\n        personService.fetchAll().then((resp) => setPeople(resp));\n    }, []);\n    const addPerson = (e) => {\n        e.preventDefault();\n\n        if (!newName || newName.length === 0) {\n            return alert(\"Name cannot be empty\");\n        }\n        if (!newNumber || newNumber.length === 0) {\n            return alert(\"Number cannot be empty\");\n        }\n\n        const newPerson = {\n            name: newName,\n            number: newNumber,\n        };\n        const existingPerson = people.find(\n            (person) => person.name == newPerson.name\n        );\n\n        if (existingPerson) {\n            if (\n                window.confirm(\n                    `${existingPerson.name} already exists in phonebook, replace old number with new one?`\n                )\n            ) {\n                personService\n                    .updateNumber(newPerson, existingPerson.id)\n                    .then((updatedPerson) =>\n                        setPeople(\n                            [updatedPerson].concat(\n                                ...people.filter(\n                                    (person) =>\n                                        person.name !== existingPerson.name\n                                )\n                            )\n                        )\n                    )\n                    .then(() => {\n                        setMessage(\"Number updated\");\n                        setTimeout(() => {\n                            setMessage(null);\n                        }, 1500);\n                    })\n                    .catch((err) => {\n                        setError(\n                            `Information of ${newPerson.name} has already been removed from server`\n                        );\n                        console.log(err);\n                        setTimeout(() => {\n                            setError(null);\n                        }, 1500);\n                    });\n            }\n        } else {\n            personService\n                .create(newPerson)\n                .then((resp) => setPeople([resp, ...people]))\n                .then(() => {\n                    setMessage(`${newPerson.name} is added to phone book`);\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 1500);\n                })\n                .catch((err) => {\n                    setError(`Person validation failed: ${err.name}`);\n                    setTimeout(() => setError(null), 1500);\n                });\n        }\n        setNewName(\"\");\n        setNewNumber(\"\");\n    };\n    const updateNumber = (e) => {\n        const number = e.target.value;\n        setNewNumber(number);\n    };\n\n    const updateName = (e) => {\n        const name = e.target.value;\n        setNewName(name);\n    };\n    const updateFilter = (event) => {\n        const input = event.target.value;\n        setFilter(input);\n    };\n\n    const peopleList =\n        filter.length > 0\n            ? people.filter(({ name }) =>\n                  name.toLowerCase().includes(filter.toLowerCase())\n              )\n            : people;\n    const deleteUser = personService.deleteUser;\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Error error={error} />\n            <Notification message={message} />\n            <Filter updateFilter={updateFilter} />\n            <PersonForm\n                name={newName}\n                number={newNumber}\n                onSubmit={addPerson}\n                updateName={updateName}\n                updateNumber={updateNumber}\n            />\n            <h2>Numbers</h2>\n            <People\n                people={peopleList}\n                deleteUser={deleteUser}\n                setPeople={setPeople}\n                allPeople={people}\n            />\n        </div>\n    );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}